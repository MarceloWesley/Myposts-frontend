(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[56],{8601:function(e,t,n){Promise.resolve().then(n.bind(n,5218)),Promise.resolve().then(n.bind(n,9806)),Promise.resolve().then(n.bind(n,2455)),Promise.resolve().then(n.bind(n,9580))},1448:function(e,t,n){"use strict";n.d(t,{A:function(){return a}});var r=n(7437),i=n(8024),o=n(6548);let s=(0,i.ZP)(o.Z)(e=>{let{theme:t}=e;return{}});var l=n(3835);let a=e=>{let{children:t,loading:n,...i}=e;return(0,r.jsx)(s,{variant:"contained",...i,children:n?(0,r.jsx)(l.d,{}):t})}},5966:function(e,t,n){"use strict";n.d(t,{B:function(){return s}});var r=n(7437),i=n(9721),o=n(1326);let s=e=>{let{children:t}=e;return(0,r.jsx)(o.Z,{component:"span",color:i.r.palette.error.main,fontSize:"0.75rem",children:t})}},2455:function(e,t,n){"use strict";n.r(t),n.d(t,{Footer:function(){return R}});var r=n(7437),i=n(2522),o=n(9518),s=n(5673),l=n(8929),a=n(4990),c=n(511),d=n(1326),u=n(278),f=n(6246),h=n(5253),x=n(1704),p=n(6463),m=n(2265);let j={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:380,bgcolor:"background.paper",border:"2px solid #000",boxShadow:24};var b=n(1448),Z=n(8024),g=n(6548);let v=(0,Z.ZP)(g.Z)(e=>{let{theme:t}=e;return{}});var y=n(3835);let k=e=>{let{children:t,loading:n,...i}=e;return(0,r.jsx)(v,{variant:"outlined",...i,children:n?(0,r.jsx)(y.d,{}):t})};var C=n(9343),w=n(1014),P=n(9772);let S=P.z.object({title:P.z.string().min(3,"title must be at least 3 characters long").max(100,"title must be a maximum of 2000 characters"),content:P.z.string().min(3,"content must be at least 3 characters long").max(2e3,"content must be a maximum of 2000 characters")});var F=n(5966),z=n(3546);n(4590);var E=n(8064),A=(0,E.$)("9b6fef935f6d3ac235db7dd3844f3d2e51a02335"),_=(0,E.$)("97923240c65ef8e916f8b543a352ce4d4130d536");let T=()=>{let e=(0,p.useRouter)(),[t,n]=(0,m.useState)(!1),[Z,g]=(0,m.useState)(!1),{loggedUser:v}=(0,m.useContext)(z.S),{register:y,handleSubmit:P,reset:E,formState:{errors:T}}=(0,C.cI)({resolver:(0,w.F)(S)}),D=()=>{g(e=>!e),E()},N=async e=>{n(!0);try{let t={...e,user:null==v?void 0:v.id},n=await A(t);console.log("response",n)}catch(e){console.log(e)}finally{g(e=>!e),n(!1),_()}};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(i.Z,{sx:{width:"100%",position:"fixed",bottom:0,zIndex:"9999"},children:[(0,r.jsx)(o.Z,{label:"Home",value:"home",onClick:()=>e.push("/home"),icon:(0,r.jsx)(f.Z,{})}),(0,r.jsx)(o.Z,{onClick:D,label:"New post",value:"",icon:(0,r.jsx)(h.Z,{})}),(0,r.jsx)(o.Z,{label:"Profile",onClick:()=>e.push("/profile"),value:"profile",icon:(0,r.jsx)(x.Z,{})})]}),(0,r.jsx)(s.Z,{open:Z,onClose:D,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:(0,r.jsx)(l.Z,{sx:j,component:"form",onSubmit:P(N),children:(0,r.jsxs)(a.Z,{sx:{display:"flex",flexDirection:"column",gap:2,p:2},children:[(0,r.jsx)(c.Z,{alignSelf:"center",fontSize:"2rem",color:"primary.light",children:"New Post"}),(0,r.jsxs)(d.Z,{children:[(0,r.jsx)(u.Z,{fullWidth:!0,id:"title",label:"Title",variant:"outlined",...y("title")}),T.title&&(0,r.jsx)(F.B,{children:T.title.message})]}),(0,r.jsxs)(d.Z,{children:[(0,r.jsx)(u.Z,{fullWidth:!0,id:"content",multiline:!0,rows:6,label:"Content",variant:"outlined",...y("content")}),T.content&&(0,r.jsx)(F.B,{children:T.content.message})]}),(0,r.jsxs)(d.Z,{display:"flex",width:"100%",justifyContent:"space-between",gap:4,children:[(0,r.jsx)(k,{onClick:D,fullWidth:!0,color:"primary",children:"Cancel"}),(0,r.jsx)(b.A,{fullWidth:!0,type:"submit",color:"primary",loading:t,children:"Post"})]})]})})})]})};var D=n(2960),N=n(2804);let R=()=>{let e=(0,D.Z)();return(0,N.Z)(e.breakpoints.down("tablet"))?(0,r.jsx)(T,{}):""}},9580:function(e,t,n){"use strict";n.r(t),n.d(t,{Header:function(){return F}});var r=n(7437),i=n(2265),o=n(851),s=n(3023),l=n(2960),a=n(2804),c=n(1733),d=n(2197),u=n(9806),f=n(335),h=n(9875),x=n(8438),p=n(1326),m=n(2184),j=n(1807),b=n(5220),Z=n(6917),g=n(7905),v=n(8861),y=n(1692),k=n(8687),C=n(8240),w=n(3546);n(4590);var P=(0,n(8064).$)("b60cd93f64fccae2c595d7259f40828d3b076a10"),S=n(6463);let F=()=>{let[e,t]=(0,i.useState)(!1),[n,F]=(0,i.useState)(!1),z=(0,i.useRef)(null),{loggedUser:E}=(0,i.useContext)(w.S),A=(0,S.useRouter)(),_=(0,l.Z)(),T=(0,a.Z)(_.breakpoints.down("tablet")),D=(0,i.useCallback)(()=>T?t(!0):F(!0),[T]),N=(0,i.useCallback)(()=>{t(!1),F(!1)},[]),R=async()=>{200===(await P()).status&&A.push("/login")};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(c.Z,{sx:{"&":{backgroundColor:"background.paper",backgroundImage:"none"}},children:(0,r.jsx)(d.Z,{maxWidth:"desktop",children:(0,r.jsxs)(u.default,{sx:{justifyContent:"space-between",alignItems:"center"},children:[(0,r.jsx)(k.T,{}),(0,r.jsx)(f.Z,{ref:z,onClick:D,sx:{width:"50px",height:"50px",border:"solid 2px white"},"aria-controls":n?"user-menu":void 0,"aria-haspopup":"true","aria-expanded":n?"true":void 0,children:(0,r.jsx)(h.Z,{sx:{fontSize:"1rem",color:"white",bgcolor:_.palette.background.paper},children:E?(0,C.Q)(E.username):""})})]})})}),(0,r.jsx)(x.ZP,{anchor:"right",open:e,onClose:N,children:(0,r.jsx)(p.Z,{sx:{width:250},role:"presentation",onClick:N,children:(0,r.jsxs)(m.Z,{children:[(0,r.jsx)(j.ZP,{disablePadding:!0,children:(0,r.jsxs)(b.Z,{children:[(0,r.jsx)(Z.Z,{children:(0,r.jsx)(o.Z,{})}),(0,r.jsx)(g.Z,{primary:"Profile"})]})}),(0,r.jsx)(j.ZP,{disablePadding:!0,children:(0,r.jsxs)(b.Z,{onClick:R,children:[(0,r.jsx)(Z.Z,{children:(0,r.jsx)(s.Z,{})}),(0,r.jsx)(g.Z,{primary:"Logout"})]})})]})})}),(0,r.jsxs)(v.Z,{anchorEl:z.current,id:"user-menu",open:n,onClose:N,children:[(0,r.jsxs)(y.Z,{onClick:N,children:[(0,r.jsx)(o.Z,{fontSize:"large",color:"secondary"}),"Profile"]}),(0,r.jsxs)(y.Z,{onClick:N,children:[(0,r.jsx)(o.Z,{fontSize:"large",color:"secondary"}),"My Account"]})]})]})}},8687:function(e,t,n){"use strict";n.d(t,{T:function(){return o}});var r=n(7437),i=n(1326);let o=e=>{let{...t}=e;return(0,r.jsx)(i.Z,{position:"relative",display:"block",...t,children:(0,r.jsx)("h2",{children:"MyPosts"})})}},3835:function(e,t,n){"use strict";n.d(t,{d:function(){return d}});var r=n(7437),i=n(1326),o=n(2784),s=n(8646);function l(){let e=(0,s._)(["\n   from {\n    transform: rotate(0deg);\n  }\n  to {\n    transform: rotate(360deg);\n  }\n"]);return l=function(){return e},e}let a=(0,n(3098).F4)(l()),c={animation:"".concat(a," 1s linear infinite")},d=()=>(0,r.jsx)(i.Z,{display:"flex",justifyContent:"center",borderRadius:"100%",component:"div",sx:c,children:(0,r.jsx)(o.U,{size:30})})},3546:function(e,t,n){"use strict";n.d(t,{S:function(){return l},d:function(){return a}});var r=n(7437);n(4590);var i=(0,n(8064).$)("92848a4cf0d14afd1f9c075f54dccdc69df12813"),o=n(2265),s=n(8598);let l=(0,o.createContext)({setToken:()=>"",loggedUser:{id:"",email:"",username:""}}),a=e=>{let{children:t}=e,[n,a]=(0,o.useState)(""),{decodedToken:c}=(0,s.k2)(n),d=async()=>{a(await i())};return(0,o.useEffect)(()=>{d()},[]),(0,r.jsx)(l.Provider,{value:{loggedUser:c,setToken:a},children:t})}},8240:function(e,t,n){"use strict";function r(e){return e&&"string"==typeof e?e.split(" ").map(e=>e.slice(0,2).toUpperCase().padEnd(2,e[0].toUpperCase())).join(""):""}n.d(t,{Q:function(){return r}})},9721:function(e,t,n){"use strict";n.d(t,{r:function(){return l}});var r=n(948),i=n.n(r),o=n(1552),s=n(6199);let l=(0,o.Z)({palette:(0,s.ZP)({mode:"dark",background:{default:"#121214",paper:"#1A1A1E"},primary:{dark:"#A35DFF",main:"#A35DFF",light:"#b57dff"},secondary:{dark:"#1c1b20",main:"#28272E",light:"#535257"},error:{dark:"#9a1f27",main:"#DC2D38",light:"#e3575f"}}),shape:{borderRadius:8},breakpoints:{values:{mobile:0,tablet:768,desktop:1024}},typography:{fontFamily:i().style.fontFamily},components:{MuiToolbar:{styleOverrides:{root:{height:"75px"}}},MuiCssBaseline:{styleOverrides:"\n        html, body {\n          min-height: 100vh;\n          display: grid;\n        }\n      "}}})}},function(e){e.O(0,[800,67,548,49,991,75,974,585,341,971,23,744],function(){return e(e.s=8601)}),_N_E=e.O()}]);