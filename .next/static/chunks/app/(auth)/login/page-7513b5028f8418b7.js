(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[665],{6743:function(e,t,r){Promise.resolve().then(r.bind(r,3555)),Promise.resolve().then(r.bind(r,9151))},8598:function(e,t,r){"use strict";r.d(t,{k2:function(){return c}});for(var n=r(2265),o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i=new Map,a=0;a<o.length;a++){var s=a.toString(2);s="0".repeat(6-s.length)+s,i.set(o.charCodeAt(a),s)}function l(e){try{if("string"!=typeof e||3!==e.split(".").length)return null;var t=(function(e){for(var t="",r=0;r<e.length;r++)t+=i.get(e.charCodeAt(r));t=t.slice(0,t.length-t.length%8);for(var n=[],o=0;o<t.length/8;o++)n.push(t.slice(8*o,8*o+8));return n})(e.split(".")[1].replaceAll("=","").replaceAll("-","+").replaceAll("_","/")).map(function(e){return parseInt(e,2)}),r=decodeURIComponent(function(e){for(var t,r="",n=e.length,o=0;o<n;o++)t=e[o],r+=String.fromCodePoint(t>251&&t<254&&o+5<n?1073741824*(t-252)+(e[++o]-128<<24)+(e[++o]-128<<18)+(e[++o]-128<<12)+(e[++o]-128<<6)+e[++o]-128:t>247&&t<252&&o+4<n?(t-248<<24)+(e[++o]-128<<18)+(e[++o]-128<<12)+(e[++o]-128<<6)+e[++o]-128:t>239&&t<248&&o+3<n?(t-240<<18)+(e[++o]-128<<12)+(e[++o]-128<<6)+e[++o]-128:t>223&&t<240&&o+2<n?(t-224<<12)+(e[++o]-128<<6)+e[++o]-128:t>191&&t<224&&o+1<n?(t-192<<6)+e[++o]-128:t);return r}(t));return JSON.parse(r)}catch(e){return console.error("There was an error decoding token: ",e),null}}function c(e){var t=(0,n.useState)(!1),r=t[0],o=t[1],i=(0,n.useState)(null),a=i[0],s=i[1];(0,n.useEffect)(function(){c(e)},[e]);var c=function(e){s(l(e)),o(function(e){var t=l(e),r=!0;if(t&&t.exp){var n=new Date(0);n.setUTCSeconds(t.exp),r=n.valueOf()<(new Date).valueOf()}return r}(e))};return{isExpired:r,decodedToken:a,reEvaluateToken:c}}},9151:function(e,t,r){"use strict";r.r(t),r.d(t,{Login:function(){return v}});var n=r(7437);r(4590);var o=(0,r(8064).$)("ff2f3f8fe6ac2195abd3121f8528a05003d85da1"),i=r(1448),a=r(3546),s=r(6930),l=r(2960),c=r(4990),u=r(511),d=r(1326),f=r(278),h=r(6548),p=r(7138),g=r(6463),x=r(2265),m=r(9343);function v(){let[e,t]=(0,x.useState)(!1),{register:r,handleSubmit:v}=(0,m.cI)({}),y=(0,l.Z)(),j=(0,g.useRouter)(),{errorValidation:w}=(0,s.U)(),{setToken:Z}=(0,x.useContext)(a.S),b=async e=>{t(!0);try{let t=await o(e),r=t.statusCode;401!==r&&404!==r?(Z(t.token),j.push("/home")):w(t)}catch(e){console.log(e)}finally{t(!1)}};return(0,n.jsxs)(c.Z,{component:"form",onSubmit:v(b),sx:{width:"100%",height:"auto",display:"flex",flexDirection:"column",gap:2,padding:2},children:[(0,n.jsx)(u.Z,{alignSelf:"center",fontSize:"2rem",color:"primary.light",children:"Login"}),(0,n.jsx)(d.Z,{children:(0,n.jsx)(f.Z,{fullWidth:!0,id:"email",label:"Email",variant:"outlined",...r("email")})}),(0,n.jsxs)(d.Z,{children:[(0,n.jsx)(f.Z,{fullWidth:!0,id:"password",type:"password",label:"Password",variant:"outlined",...r("password")}),(0,n.jsxs)(d.Z,{children:[(0,n.jsx)(h.Z,{children:(0,n.jsx)(p.default,{style:{textDecoration:"none",color:y.palette.primary.light},href:"/forgot-password",children:"forgot my password"})}),(0,n.jsxs)(u.Z,{pl:1,variant:"body2",children:["Don't have an account ?",(0,n.jsx)(h.Z,{color:"primary",children:(0,n.jsx)(p.default,{style:{textDecoration:"none",color:y.palette.primary.light},href:"/register",children:"Register"})})]})]})]}),(0,n.jsx)(d.Z,{width:"200px",alignSelf:"center",children:(0,n.jsx)(i.A,{type:"submit",fullWidth:!0,color:"primary",loading:e,children:"Enter"})})]})}},1448:function(e,t,r){"use strict";r.d(t,{A:function(){return l}});var n=r(7437),o=r(8024),i=r(6548);let a=(0,o.ZP)(i.Z)(e=>{let{theme:t}=e;return{}});var s=r(3835);let l=e=>{let{children:t,loading:r,...o}=e;return(0,n.jsx)(a,{variant:"contained",...o,children:r?(0,n.jsx)(s.d,{}):t})}},3835:function(e,t,r){"use strict";r.d(t,{d:function(){return u}});var n=r(7437),o=r(1326),i=r(2784),a=r(8646);function s(){let e=(0,a._)(["\n   from {\n    transform: rotate(0deg);\n  }\n  to {\n    transform: rotate(360deg);\n  }\n"]);return s=function(){return e},e}let l=(0,r(3098).F4)(s()),c={animation:"".concat(l," 1s linear infinite")},u=()=>(0,n.jsx)(o.Z,{display:"flex",justifyContent:"center",borderRadius:"100%",component:"div",sx:c,children:(0,n.jsx)(i.U,{size:30})})},3546:function(e,t,r){"use strict";r.d(t,{S:function(){return s},d:function(){return l}});var n=r(7437);r(4590);var o=(0,r(8064).$)("92848a4cf0d14afd1f9c075f54dccdc69df12813"),i=r(2265),a=r(8598);let s=(0,i.createContext)({setToken:()=>"",loggedUser:{id:"",email:"",username:""}}),l=e=>{let{children:t}=e,[r,l]=(0,i.useState)(""),{decodedToken:c}=(0,a.k2)(r),u=async()=>{l(await o())};return(0,i.useEffect)(()=>{u()},[]),(0,n.jsx)(s.Provider,{value:{loggedUser:c,setToken:l},children:t})}},6930:function(e,t,r){"use strict";r.d(t,{U:function(){return a}});var n=r(2960),o=r(2804),i=r(5956);function a(){let{ToastF:e}=function(){let e=(0,n.Z)(),t=(0,o.Z)(e.breakpoints.down("tablet"));return{ToastF:e=>{let{message:r,type:n,position:o="top-right",autoClose:a=5e3}=e;i.Am[n](r,{position:o,autoClose:a,style:{...t?{width:"280px",margin:"90px 5px 0 auto",borderRadius:"5px"}:{}}})}}}();return{errorValidation:t=>{switch(t.statusCode){case 401:case 404:case 400:let r;e({message:Array.isArray(r=t.message)?r[0]:r,type:"error"});break;case 500:e({message:"Internal server error",type:"error"})}}}}}},function(e){e.O(0,[67,548,49,991,956,679,971,23,744],function(){return e(e.s=6743)}),_N_E=e.O()}]);